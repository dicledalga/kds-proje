<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STARBUCKS KDS</title>
    <link rel="stylesheet" href="style.css">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

    <!-- LOGIN EKRANI -->
    <div id="login-screen" class="login-container">
        <div class="login-box">
            <img src="assets/logo.png" alt="Logo" class="login-logo">

            <h2>Starbucks</h2>
            <p class="login-subtitle">Karar Destek Sistemi</p>

            <input type="text" id="username" placeholder="KullanÄ±cÄ± AdÄ±">
            <input type="password" id="password" placeholder="Åifre">

            <button onclick="login()">GiriÅŸ Yap</button>
        </div>
    </div>

    <!-- DASHBOARD -->
    <div id="dashboard" style="display:none;">

        <!-- SIDEBAR -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="assets/logo.png" class="sidebar-logo">
                <h2>Starbucks KDS</h2>
            </div>

            <ul class="menu">
                <li class="menu-item active" onclick="showPage('page-dashboard', this)">Dashboard</li>
                <li class="menu-item" onclick="showPage('page-aylik', this)">SatÄ±ÅŸ Trendi</li>
                <li class="menu-item" onclick="showPage('page-sube', this)">Åube PerformansÄ±</li>
                <li class="menu-item" onclick="showPage('page-kategori', this)">Kategori SatÄ±ÅŸ</li>
                <li class="menu-item" onclick="showPage('page-musteri', this)">MÃ¼ÅŸteri Trend</li>
                <li class="menu-item" onclick="showPage('page-kanal', this)">Kanal Analizi</li>
                <li class="menu-item" onclick="showPage('page-maliyet', this)">Maliyet Trend</li>
            </ul>

            <!-- Ã‡IKIÅ YAP -->
            <div class="logout-container">
                <button class="logout-btn" onclick="logout()">â» Ã‡Ä±kÄ±ÅŸ Yap</button>
            </div>

        </aside>

        <!-- MAIN CONTENT -->
        <button class="mobile-menu-btn" onclick="toggleSidebar()">
            â˜°
        </button>

        <main class="content">

            <!-- ANA DASHBOARD SAYFASI -->
            <section id="page-dashboard" class="page active-page">

                <h1>Dashboard</h1>
                <h3>Genel Ã¶zet kartlarÄ±</h3>

                <div class="kds-summary-grid">

                    <div class="kds-info-box">
                        <span class="kds-label">TOPLAM SATIÅ (YILLIK)</span>
                        <div class="kds-value" id="val-satis-yillik">â‚º0</div>
                        <div class="kds-trend-container" id="trend-satis-v2">
                            <span class="kds-trend-arrow"></span>
                            <span class="kds-trend-percent"></span>
                        </div>
                    </div>

                    <div class="kds-info-box">
                        <span class="kds-label">NET KÃ‚R</span>
                        <div class="kds-value" id="val-kar-yillik">â‚º0</div>
                        <div class="kds-trend-container" id="trend-kar-v2">
                            <span class="kds-trend-arrow"></span>
                            <span class="kds-trend-percent"></span>
                        </div>
                    </div>

                    <div class="kds-info-box">
                        <span class="kds-label">MÃœÅTERÄ° MEMNUNÄ°YETÄ°</span>
                        <div class="kds-value" id="val-nps-yillik">0.0 / 5.0</div>
                        <div class="kds-trend-container" id="trend-nps-v2">
                            <span class="kds-trend-arrow"></span>
                            <span class="kds-trend-percent"></span>
                        </div>
                    </div>

                    <div class="kds-info-box">
                        <span class="kds-label">VERÄ°MLÄ°LÄ°K SKORU</span>
                        <div class="kds-value" id="val-verimlilik-yillik">%0</div>
                        <div class="kds-trend-container" id="trend-verimlilik-v2">
                            <span class="kds-trend-arrow"></span>
                            <span class="kds-trend-percent"></span>
                        </div>
                    </div>

                </div>

                <!-- Ã–ZET KARTLAR -->
                <div class="cards-row">
                    <div class="card">
                        <h2>SatÄ±ÅŸ Analizi</h2>
                        <p id="card-toplam-satis">-</p>
                    </div>

                    <div class="card">
                        <h2>MÃ¼ÅŸteri Analizi</h2>
                        <p id="card-musteri">-</p>
                    </div>

                    <div class="card dss-card">
                        <h2>Kanal KararÄ±</h2>
                        <p id="dss-kanal">-</p>
                    </div>

                    <div class="card">
                        <h2>Maliyet Analizi</h2>
                        <p id="card-maliyet">-</p>
                    </div>

                    <div class="card">
                        <h2>Kategori Lideri</h2>
                        <p id="card-kategori">-</p>
                    </div>
                </div>


                <!-- TRAFFIC LIGHT DURUM KARTLARI -->
                <div class="status-row">

                    <div id="status-satis" class="status-card">
                        <h4>SatÄ±ÅŸ Durumu</h4>
                        <p>-</p>
                    </div>

                    <div id="status-musteri" class="status-card">
                        <h4>MÃ¼ÅŸteri Durumu</h4>
                        <p>-</p>
                    </div>

                    <div id="status-maliyet" class="status-card">
                        <h4>Maliyet Durumu</h4>
                        <p>-</p>
                    </div>

                </div>

                <div style="margin-bottom:20px;">
                    <label for="subeFiltre"><strong>Åube SeÃ§:</strong></label>
                    <select id="subeFiltre" onchange="onSubeChange()">
                        <option value="0">TÃ¼mÃ¼</option>
                        <option value="1">Starbucks Kordon</option>
                        <option value="2">Starbucks KÃ¼Ã§Ã¼kpark</option>
                        <option value="3">Starbucks KarÅŸÄ±yaka Ã‡arÅŸÄ±</option>
                        <option value="4">Starbucks Optimum</option>
                        <option value="5">Starbucks Buca</option>
                    </select>
                </div>

                <!-- AYLIK SATIÅ + KATEGORÄ° DAÄILIMI -->
                <div class="side-by-side-charts">
                    <div class="chart-box chart-half">
                        <h2>AylÄ±k SatÄ±ÅŸ GrafiÄŸi</h2>
                        <canvas id="dashboardSalesChart"></canvas>
                    </div>

                    <div class="chart-box chart-half">
                        <h2>Kategori DaÄŸÄ±lÄ±mÄ±</h2>
                        <canvas id="kategoriDonutChart"></canvas>
                    </div>
                </div>

                <br>
                <br>

                <!-- KARAR DESTEK Ã–NERÄ°SÄ° -->
                <div class="dss-box">
                    <h2>Karar Destek Ã–nerisi</h2>
                    <p id="dssOneriMetni">Veriler yÃ¼kleniyor...</p>
                </div>
                <br>
                <br>

                <!--TAHMÄ°NÄ° VERÄ°LER-->
                <div class="tahmin-row">
                    <div class="card tahmin-card">
                        <h3>Sonraki Ay SatÄ±ÅŸ Tahmini</h3>
                        <p id="tahmin-satis">YÃ¼kleniyor...</p>
                    </div>

                    <div class="card tahmin-card">
                        <h3>Sonraki Ay MÃ¼ÅŸteri Tahmini</h3>
                        <p id="tahmin-musteri">YÃ¼kleniyor...</p>
                    </div>

                    <div class="card tahmin-card">
                        <h3>Sonraki Ay Maliyet Tahmini</h3>
                        <p id="tahmin-maliyet">YÃ¼kleniyor...</p>
                    </div>
                </div>

                <div class="tahmin-6ay-container">
                    <h2>Ã–nÃ¼mÃ¼zdeki 6 Ay Tahminleri</h2>
                    <div class="tahmin-6ay-grid">
                        <div class="chart-box chart-6ay">
                            <h3>6 AylÄ±k SatÄ±ÅŸ Tahmini</h3>
                            <canvas id="tahminSatis6AyChart"></canvas>
                        </div>
                        <div class="chart-box chart-6ay">
                            <h3>6 AylÄ±k MÃ¼ÅŸteri Tahmini</h3>
                            <canvas id="tahminMusteri6AyChart"></canvas>
                        </div>
                        <div class="chart-box chart-6ay">
                            <h3>6 AylÄ±k Maliyet Tahmini</h3>
                            <canvas id="tahminMaliyet6AyChart"></canvas>
                        </div>
                    </div>
                </div>

                <h2>KÃ¢r Analizi</h2>
                <div class="side-by-side-charts">
                    <div class="chart-box chart-half">
                        <h3 style="text-align:center; margin-bottom:10px; font-size:16px; color:#555;">AylÄ±k KÃ¢r
                            DeÄŸiÅŸimi</h3>
                        <canvas id="karAylikChart"></canvas>
                    </div>
                    <div class="chart-box chart-half">
                        <h3 style="text-align:center; margin-bottom:10px; font-size:16px; color:#555;">Åube KÃ¢r DaÄŸÄ±lÄ±mÄ±
                        </h3>
                        <canvas id="karSubeChart"></canvas>
                    </div>
                </div>

                <div class="chart-box" style="background: #fdfdfd; border: 2px dashed #006241;">
                    <h2 style="color: #006241; margin-bottom: 20px;">ğŸ§ª KÃ¢r DeÄŸiÅŸimi Ä°Ã§in Stratejik SimÃ¼lasyon</h2>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                        <div class="simulation-controls">
                            <div style="margin-bottom: 15px;">
                                <label>SatÄ±ÅŸ Hacmi DeÄŸiÅŸimi: <strong id="val-satis">%0</strong></label>
                                <input type="range" id="slider-satis" min="-50" max="100" value="0" style="width:100%"
                                    oninput="runSimulation()">
                            </div>
                            <div style="margin-bottom: 15px;">
                                <label>Birim Maliyet DeÄŸiÅŸimi: <strong id="val-maliyet">%0</strong></label>
                                <input type="range" id="slider-maliyet" min="-30" max="50" value="0" style="width:100%"
                                    oninput="runSimulation()">
                            </div>
                        </div>

                        <div id="sim-result-box"
                            style="text-align: center; padding: 20px; border-radius: 10px; background: #eee;">
                            <h4 style="margin:0;">Tahmini Net KÃ¢r DeÄŸiÅŸimi</h4>
                            <div id="sim-profit-result" style="font-size: 32px; font-weight: bold; margin: 10px 0;">0 â‚º
                            </div>
                            <p id="sim-advice" style="font-size: 14px; color: #666;">Mevcut veriler Ã¼zerinden simÃ¼lasyon
                                yapÄ±n.</p>
                        </div>
                    </div>
                </div>

                <div class="chart-box what-if-container">
                    <div class="what-if-header">
                        <div class="header-left">
                            <h2><span class="icon">ğŸ“Š</span> Fiyat EsnekliÄŸi & What-If Analizi</h2>
                            <p>Fiyat kararlarÄ±nÄ±n ve mÃ¼ÅŸteri kaybÄ±nÄ±n yÄ±llÄ±k ciroyu nasÄ±l etkileyeceÄŸini simÃ¼le edin.
                            </p>
                        </div>
                        <div class="result-badge" id="badge-container">
                            <span class="badge-title">TAHMÄ°NÄ° YILLIK CÄ°RO FARKI</span>
                            <div class="badge-value" id="res-fark">â‚º0</div>
                            <span class="badge-sub" id="res-varyasyon">%0.0 Varyasyon</span>
                        </div>
                    </div>

                    <div class="what-if-content">
                        <div class="sliders-section">
                            <div class="slider-group">
                                <div class="slider-info">
                                    <label>FÄ°YAT ARTIÅ ORANI (ZAM)</label>
                                    <span class="slider-val" id="val-zam">%0</span>
                                </div>
                                <input type="range" id="slider-zam" min="0" max="100" value="0" step="1"
                                    oninput="updateWhatIf()">
                            </div>

                            <div class="slider-group">
                                <div class="slider-info">
                                    <label>TAHMÄ°NÄ° MÃœÅTERÄ° KAYBI (CHURN)</label>
                                    <span class="slider-val" id="val-churn">%0</span>
                                </div>
                                <input type="range" id="slider-churn" min="0" max="50" value="0" step="1"
                                    oninput="updateWhatIf()">
                            </div>
                        </div>

                        <div class="analysis-report">
                            <div class="report-header">
                                <span class="icon">ğŸ¯</span> <strong>KARAR ANALÄ°Z RAPORU</strong>
                            </div>
                            <p id="report-text">Veriler yÃ¼kleniyor...</p>

                            <div class="target-cards">
                                <div class="t-card">
                                    <span>MEVCUT YILLIK CÄ°RO</span>
                                    <strong id="curr-val">â‚º0</strong>
                                </div>
                                <div class="t-card target">
                                    <span>YENÄ° HEDEF CÄ°RO</span>
                                    <strong id="new-val">â‚º0</strong>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </section> <!-- Dashboard KAPANIYOR -->

            <!-- SATIÅ TRENDÄ° -->
            <section id="page-aylik" class="page">
                <h1>SatÄ±ÅŸ Trendi</h1>

                <div style="margin-bottom:15px;">
                    <label for="aylikSubeFiltre"><strong>Åube SeÃ§:</strong></label>
                    <select id="aylikSubeFiltre" onchange="onAylikSubeChange()">
                        <option value="0">TÃ¼mÃ¼</option>
                        <option value="1">Starbucks Kordon</option>
                        <option value="2">Starbucks KÃ¼Ã§Ã¼kpark</option>
                        <option value="3">Starbucks KarÅŸÄ±yaka Ã‡arÅŸÄ±</option>
                        <option value="4">Starbucks Optimum</option>
                        <option value="5">Starbucks Buca</option>
                    </select>
                </div>

                <p>AylÄ±k satÄ±ÅŸ grafiÄŸi aÅŸaÄŸÄ±dadÄ±r:</p>

                <div class="auto-yorum" id="yorum-aylik-satis">
                </div>

                <div class="chart-box chart--bar">
                    <canvas id="aylikSatisChart"></canvas>
                </div>

            </section>

            <!-- ÅUBE PERFORMANSI -->

            <section id="page-sube" class="page">
                <h1>Åube PerformansÄ±</h1>

                <div class="metric-buttons">
                    <button class="metric-btn active" onclick="changeSubeMetric('satis', this)">
                        Toplam SatÄ±ÅŸ
                    </button>
                    <button class="metric-btn" onclick="changeSubeMetric('adet', this)">
                        Toplam Adet
                    </button>
                    <button class="metric-btn" onclick="changeSubeMetric('sepet', this)">
                        Ortalama Sepet
                    </button>
                </div>

                <div class="chart-box chart--bar">
                    <canvas id="subePerformansChart"></canvas>
                </div>

                <div class="auto-yorum" id="sube-yorum">
                    Åube performans yorumu burada gÃ¶sterilecektir.
                </div>

            </section>

            <!-- KATEGORÄ° SATIÅ -->
            <section id="page-kategori" class="page">
                <h1>Kategori SatÄ±ÅŸ (Aylara GÃ¶re)</h1>
                <p>Kategori bazÄ±nda aylÄ±k satÄ±ÅŸ grafiÄŸi:</p>

                <div class="chart-box chart--line">
                    <canvas id="kategoriAylikChart"></canvas>
                </div>

                <hr>

                <h3>ğŸ“Š SeÃ§ilen Aya GÃ¶re Kategori KarÅŸÄ±laÅŸtÄ±rmasÄ±</h3>

                <div class="filter-bar">
                    <label for="monthSelect">ğŸ“… Ay SeÃ§:</label>
                    <select id="monthSelect">
                        <option value="">Ay SeÃ§iniz</option>
                        <option value="0">Ocak</option>
                        <option value="1">Åubat</option>
                        <option value="2">Mart</option>
                        <option value="3">Nisan</option>
                        <option value="4">MayÄ±s</option>
                        <option value="5">Haziran</option>
                        <option value="6">Temmuz</option>
                        <option value="7">AÄŸustos</option>
                        <option value="8">EylÃ¼l</option>
                        <option value="9">Ekim</option>
                        <option value="10">KasÄ±m</option>
                        <option value="11">AralÄ±k</option>
                    </select>
                </div>

                <canvas id="monthlyCategoryChart" height="120"></canvas>

                <div id="kategori-dinamik-yorum" class="auto-yorum">
                    LÃ¼tfen analiz iÃ§in bir ay seÃ§iniz.
                </div>

            </section>

            <!-- MÃœÅTERÄ° TREND -->
            <section id="page-musteri" class="page">
                <h1>Åubelere GÃ¶re MÃ¼ÅŸteri Trend (YÄ±llÄ±k)</h1>
                <div class="chart-box chart--line">
                    <canvas id="musteriTrendChart"></canvas>
                </div>
                <div id="musteri-gelecek-oneri" class="kds-oneri-box"></div>
            </section>

            <!-- KANAL ANALÄ°ZÄ° -->
            <section id="page-kanal" class="page">
                <h1>Kanal BazlÄ± Analiz</h1>

                <div class="pie-charts-row">

                    <div class="chart-box chart-pie-half">
                        <h3 style="text-align:center; margin-bottom:15px; color:#555;">Toplam SatÄ±ÅŸ DaÄŸÄ±lÄ±mÄ±</h3>
                        <div class="pie-container">
                            <canvas id="kanalPieChart"></canvas>
                        </div>
                    </div>

                    <div class="chart-box chart-pie-half">
                        <h3 style="text-align:center; margin-bottom:15px; color:#555;">Ortalama Puan DaÄŸÄ±lÄ±mÄ±</h3>
                        <div class="pie-container">
                            <canvas id="kanalPuanPieChart"></canvas>
                        </div>
                    </div>

                </div>

                <div class="auto-yorum" id="yorum-kanal-puan"></div>

                <h2>Aylara GÃ¶re Kanal Trend GrafiÄŸi</h2>
                <div class="chart-box chart--line">
                    <canvas id="kanalTrendChart"></canvas>
                </div>

                <div class="auto-yorum" id="yorum-kanal"></div>

                <h2>Kanal Ä°statistikleri</h2>
                <div class="cards-row">
                    <div class="card">
                        <h3>En Ã‡ok SatÄ±ÅŸ Yapan Kanal</h3>
                        <p id="kanal-en-cok">-</p>
                    </div>
                    <div class="card">
                        <h3>En Az SatÄ±ÅŸ Yapan Kanal</h3>
                        <p id="kanal-en-az">-</p>
                    </div>
                    <div class="card">
                        <h3>En Ã‡ok ArtÄ±ÅŸ GÃ¶steren Kanal</h3>
                        <p id="kanal-artis">-</p>
                    </div>
                </div>
            </section>

            <section id="page-maliyet" class="page">
                <h1>Maliyet Trend Analizi</h1>

                <div class="auto-yorum" id="maliyetYorum"></div>

                <div class="maliyet-filtre-container"
                    style="margin-bottom: 20px; display: flex; gap: 15px; justify-content: center;">
                    <label class="filter-chip">
                        <input type="checkbox" checked onchange="toggleMaliyetLayer('iscilik', this)">
                        <span class="chip-label iscilik">ğŸ‘· Ä°ÅŸÃ§ilik</span>
                    </label>
                    <label class="filter-chip">
                        <input type="checkbox" checked onchange="toggleMaliyetLayer('lojistik', this)">
                        <span class="chip-label lojistik">ğŸšš Lojistik</span>
                    </label>
                    <label class="filter-chip">
                        <input type="checkbox" checked onchange="toggleMaliyetLayer('diger', this)">
                        <span class="chip-label diger">ğŸ“¦ DiÄŸer</span>
                    </label>
                </div>

                <div class="side-by-side-charts">
                    <div class="chart-box chart-half">
                        <h3 style="text-align:center; margin-bottom:10px;">Genel Toplam Maliyet</h3>
                        <canvas id="maliyetToplamChart"></canvas>
                    </div>

                    <div class="chart-box chart-half">
                        <h3 style="text-align:center; margin-bottom:10px;">Åubelere GÃ¶re Maliyet</h3>
                        <canvas id="maliyetSubeChart"></canvas>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="script.js"></script>
</body>

</html>